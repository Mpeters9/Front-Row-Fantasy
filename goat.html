<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Front Row Fantasy GOAT Page - Build the greatest fantasy football teams with expert tools and insights.">
    <meta name="keywords" content="fantasy football, GOAT, team building, draft strategies, player research">
    <meta name="author" content="Mpeters9">
    <title>Front Row Fantasy - GOAT Page</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body aria-label="GOAT Page Content">

    <!-- Header -->
    <header>
        <div class="max-w-7xl mx-auto px-4 flex justify-between items-center py-3">
            <h1 class="text-2xl font-bold text-yellow text-glow">GOAT - Greatest of All Time</h1>
            <nav>
                <a href="index.html" class="nav-link">Home</a>
                <a href="tools.html" class="nav-link">Expert Tools</a>
                <a href="#about" class="nav-link">About</a>
                <a href="#games" class="nav-link">Games</a>
                <a href="#contact" class="nav-link">Contact</a>
            </nav>
        </div>
    </header>

    <!-- Hero / Splash -->
    <main class="max-w-7xl mx-auto px-4 py-6">
        <section class="splash-section text-center mb-8">
            <h2 class="text-4xl font-bold mb-4 text-glow">Unleash Your Fantasy GOAT</h2>
            <p class="text-lg mb-6">Master the art of fantasy football with elite strategies, in-depth research, and a thriving community to build the ultimate team.</p>
            <a href="#best-draft-builds" class="cta-btn">Get Started</a>
        </section>

        <!-- Fantasy Points Ticker -->
        <section class="marquee mb-8" aria-label="Fantasy Points Ticker">
            <div class="bg-teal-900 text-white p-2 rounded-t flex justify-between items-center shadow">
                <span class="text-xl font-bold tracking-wide flex items-center gap-2">
                    <svg class="inline w-6 h-6 text-yellow-300" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M13 16h-1v-4h-1m1-4h.01M21 12c0 4.97-4.03 9-9 9s-9-4.03-9-9 4.03-9 9-9 9 4.03 9 9z"/></svg>
                    Fantasy Points Ticker
                </span>
                <button id="pauseButton" class="cta-btn px-4 py-1" aria-pressed="false" aria-label="Pause ticker">Pause</button>
            </div>
            <div class="relative overflow-hidden bg-teal-800 rounded-b" style="height:2.5rem;">
                <div id="tickerContent" class="absolute left-0 top-0 h-full flex items-center whitespace-nowrap transition-none" tabindex="0" aria-live="polite">
                    <span class="loading text-white">Loading fantasy points...</span>
                </div>
            </div>
        </section>

        <!-- Best Draft Builds Tool -->
        <section id="best-draft-builds" class="mb-12">
            <h2 class="section-title text-center">Best Draft Builds</h2>
            <div class="card max-w-2xl mx-auto">
                <form id="draft-build-form" class="flex flex-col gap-4">
                    <div class="flex flex-wrap gap-4 justify-center">
                        <label>
                            League Size
                            <select id="leagueSize" class="ml-2">
                                <option>8</option>
                                <option>10</option>
                                <option selected>12</option>
                                <option>14</option>
                            </select>
                        </label>
                        <label>
                            Draft Pick
                            <input type="number" id="draftPick" min="1" max="12" value="1" class="ml-2 w-16 text-center" />
                        </label>
                        <label>
                            Scoring
                            <select id="scoringType" class="ml-2">
                                <option value="standard">Standard</option>
                                <option value="ppr" selected>PPR</option>
                                <option value="half">Half-PPR</option>
                            </select>
                        </label>
                        <label>
                            Bench Size
                            <select id="benchSize" class="ml-2">
                                <option>4</option>
                                <option>5</option>
                                <option selected>6</option>
                                <option>7</option>
                            </select>
                        </label>
                        <!-- Draft Lineup Preset -->
                        <label>
                            Draft Lineup Preset
                            <select id="draftLineupPreset" class="ml-2">
                                <option value="std">Standard: 1QB, 2RB, 2WR, 1TE, 1FLX, 1DST, 1K</option>
                                <option value="ppr">PPR: 1QB, 2RB, 2WR, 1TE, 1FLX, 1DST, 1K</option>
                                <option value="superflex_redraft">SuperFlex Redraft: 1QB, 1SF, 2RB, 2WR, 1TE, 1FLX, 1DST, 1K</option>
                                <option value="superflex_dynasty">SuperFlex Dynasty: 1QB, 1SF, 2RB, 2WR, 1TE, 2FLX, 1DST, 1K</option>
                                <option value="half">Half-PPR: 1QB, 2RB, 2WR, 1TE, 2FLX, 1DST, 1K</option>
                                <option value="2qb">2QB: 2QB, 2RB, 3WR, 1TE, 1FLX, 1DST, 1K</option>
                                <option value="3wr">3WR: 1QB, 2RB, 3WR, 1TE, 1FLX, 1DST, 1K</option>
                                <option value="2te">2TE: 1QB, 2RB, 2WR, 2TE, 1FLX, 1DST, 1K</option>
                                <option value="deepflex">Deep FLEX: 1QB, 2RB, 2WR, 1TE, 3FLX, 1DST, 1K</option>
                                <option value="custom">Custom</option>
                            </select>
                        </label>
                        <label>
                            QB
                            <input type="number" id="draftQbCount" min="0" max="3" value="1" class="ml-2 w-12 text-center" />
                        </label>
                        <label>
                            RB
                            <input type="number" id="draftRbCount" min="0" max="5" value="2" class="ml-2 w-12 text-center" />
                        </label>
                        <label>
                            WR
                            <input type="number" id="draftWrCount" min="0" max="5" value="2" class="ml-2 w-12 text-center" />
                        </label>
                        <label>
                            TE
                            <input type="number" id="draftTeCount" min="0" max="3" value="1" class="ml-2 w-12 text-center" />
                        </label>
                        <label>
                            FLEX
                            <input type="number" id="draftFlexCount" min="0" max="3" value="1" class="ml-2 w-12 text-center" />
                        </label>
                        <label>
                            DST
                            <input type="number" id="draftDstCount" min="0" max="2" value="1" class="ml-2 w-12 text-center" />
                        </label>
                        <label>
                            K
                            <input type="number" id="draftKCount" min="0" max="2" value="1" class="ml-2 w-12 text-center" />
                        </label>
                    </div>
                    <button type="button" id="generateLineup" class="cta-btn mt-2">Generate Draft Build</button>
                </form>
                <div id="build-result" class="mt-6"></div>
            </div>
        </section>

        <!-- Best Lineup Builds Tool -->
        <section id="best-lineup-builds" class="mb-12">
            <h2 class="section-title text-center">Best Lineup Builds</h2>
            <div class="card max-w-2xl mx-auto">
                <form id="lineup-build-form" class="flex flex-col gap-4">
                    <div class="flex flex-wrap gap-4 justify-center">
                        <!-- Lineup Preset -->
                        <label>
                            Lineup Preset
                            <select id="lineupPreset" class="ml-2">
                                <option value="std">Standard: 1QB, 2RB, 2WR, 1TE, 1FLX, 1DST, 1K</option>
                                <option value="ppr">PPR: 1QB, 2RB, 2WR, 1TE, 1FLX, 1DST, 1K</option>
                                <option value="superflex_redraft">SuperFlex Redraft: 1QB, 1SF, 2RB, 2WR, 1TE, 1FLX, 1DST, 1K</option>
                                <option value="superflex_dynasty">SuperFlex Dynasty: 1QB, 1SF, 2RB, 2WR, 1TE, 2FLX, 1DST, 1K</option>
                                <option value="half">Half-PPR: 1QB, 2RB, 2WR, 1TE, 2FLX, 1DST, 1K</option>
                                <option value="2qb">2QB: 2QB, 2RB, 3WR, 1TE, 1FLX, 1DST, 1K</option>
                                <option value="3wr">3WR: 1QB, 2RB, 3WR, 1TE, 1FLX, 1DST, 1K</option>
                                <option value="2te">2TE: 1QB, 2RB, 2WR, 2TE, 1FLX, 1DST, 1K</option>
                                <option value="deepflex">Deep FLEX: 1QB, 2RB, 2WR, 1TE, 3FLX, 1DST, 1K</option>
                                <option value="custom">Custom</option>
                            </select>
                        </label>
                        <label>
                            QB
                            <input type="number" id="qbCount" min="0" max="3" value="1" class="ml-2 w-12 text-center" />
                        </label>
                        <label>
                            RB
                            <input type="number" id="rbCount" min="0" max="5" value="2" class="ml-2 w-12 text-center" />
                        </label>
                        <label>
                            WR
                            <input type="number" id="wrCount" min="0" max="5" value="2" class="ml-2 w-12 text-center" />
                        </label>
                        <label>
                            TE
                            <input type="number" id="teCount" min="0" max="3" value="1" class="ml-2 w-12 text-center" />
                        </label>
                        <label>
                            FLEX
                            <input type="number" id="flexCount" min="0" max="3" value="1" class="ml-2 w-12 text-center" />
                        </label>
                        <label>
                            DST
                            <input type="number" id="dstCount" min="0" max="2" value="1" class="ml-2 w-12 text-center" />
                        </label>
                        <label>
                            K
                            <input type="number" id="kCount" min="0" max="2" value="1" class="ml-2 w-12 text-center" />
                        </label>
                    </div>
                    <button type="button" id="generateLineupBuild" class="cta-btn mt-2">Generate Lineup Build</button>
                </form>
                <div id="lineup-result" class="mt-6"></div>
            </div>
        </section>

        <!-- Example Player Table with Popup -->
        <section id="player-research" class="mb-12">
            <h2 class="section-title text-center">Player Research</h2>
            <div class="card">
                <table class="w-full mb-6">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Pos</th>
                            <th>Proj Pts</th>
                        </tr>
                    </thead>
                    <tbody id="player-table-body">
                        <!-- Filled by JS -->
                    </tbody>
                </table>
            </div>
        </section>
    </main>

    <footer>
        <p>Â© 2025 Front Row Fantasy. All rights reserved.</p>
    </footer>

    <!-- Player Popup Modal -->
    <div id="player-popup" tabindex="0" aria-live="polite" class="hidden fixed z-50 bg-white border rounded shadow-lg p-4 max-w-xs" style="top:100px;left:100px;"></div>

    <!-- Fantasy Ticker, Draft & Lineup Tools -->
    <script src="script.js"></script>
    <script>
let allPlayers = [];
let currentScoring = 'ppr';

const scoringFiles = {
    'ppr': 'PPR.json',
    'half': 'Half PPR.json',
    'standard': 'Standard ADP.json'
};

function getScoringType() {
    const sel = document.getElementById('scoringType');
    return sel ? sel.value : 'ppr';
}

function loadPlayersAndInitTools(scoringType) {
    const jsonFile = scoringFiles[scoringType] || scoringFiles['ppr'];
    fetch(jsonFile)
        .then(res => res.json())
        .then(data => {
            allPlayers = data;
            buildTicker();
            fillPlayerTable();
        });
}

function posColor(pos) {
    if (!pos) return "";
    if (pos.startsWith('QB')) return "player-pos-QB";
    if (pos.startsWith('RB')) return "player-pos-RB";
    if (pos.startsWith('WR')) return "player-pos-WR";
    if (pos.startsWith('TE')) return "player-pos-TE";
    return "";
}

// --- Ticker ---
const tickerContent = document.getElementById('tickerContent');
const pauseButton = document.getElementById('pauseButton');
let paused = false, animationFrame, pos = 0;
function buildTicker() {
    if (!tickerContent) return;
    tickerContent.innerHTML = '';
    for (let loop = 0; loop < 2; loop++) {
        (allPlayers.slice(0, 8)).forEach(item => {
            const span = document.createElement('span');
            span.className = `ticker-player ${posColor(item.POS)}`;
            span.innerHTML = `
                <span class="player-name">${item.Player}</span>
                <span class="player-team">(${item.Team} ${item.POS})</span>
                <span class="player-pts">${item.AVG} ADP</span>
            `;
            tickerContent.appendChild(span);
        });
    }
}
function animateTicker() {
    if (!paused) {
        pos -= 1.1;
        if (Math.abs(pos) >= tickerContent.scrollWidth / 2) pos = 0;
        tickerContent.style.transform = `translateX(${pos}px)`;
    }
    animationFrame = requestAnimationFrame(animateTicker);
}
if (pauseButton) {
    pauseButton.addEventListener('click', function () {
        paused = !paused;
        pauseButton.setAttribute('aria-pressed', paused ? 'true' : 'false');
        pauseButton.textContent = paused ? 'Resume' : 'Pause';
    });
}
animateTicker();

// --- Player Table ---
function fillPlayerTable() {
    const tableBody = document.getElementById('player-table-body');
    if (!tableBody) return;
    tableBody.innerHTML = allPlayers.slice(0, 20).map(p => `
        <tr class="player-row" data-player="${p.Player}">
            <td class="player-name ${posColor(p.POS)}">${p.Player}</td>
            <td>${p.POS}</td>
            <td>${p.AVG}</td>
        </tr>
    `).join('');
    document.querySelectorAll('.player-row').forEach(row => {
        row.addEventListener('click', function (e) {
            const player = row.dataset.player;
            const p = allPlayers.find(x => x.Player === player);
            const popup = document.getElementById('player-popup');
            popup.innerHTML = `
                <span class="close-btn" onclick="document.getElementById('player-popup').classList.add('hidden')">&times;</span>
                <h4 class="font-bold text-lg mb-1">${p.Player}</h4>
                <div class="mb-2">Position: <span class="${posColor(p.POS)}">${p.POS}</span></div>
                <div class="mb-2">Team: <span class="text-teal">${p.Team}</span></div>
                <div class="mb-2">Bye: <span class="text-yellow">${p.Bye}</span></div>
                <div class="mb-2">ADP: <span class="text-yellow">${p.AVG}</span></div>
                <div class="mb-2">Bio: <span class="text-gray-700">Elite fantasy performer. Click for more stats soon!</span></div>
            `;
            popup.classList.remove('hidden');
            popup.style.top = (e.clientY + 10) + 'px';
            popup.style.left = (e.clientX + 10) + 'px';
        });
    });
}

// --- Draft Lineup Preset logic ---
document.getElementById('draftLineupPreset').addEventListener('change', function () {
    const draftQbCount = document.getElementById('draftQbCount');
    const draftSfCount = document.getElementById('draftSfCount');
    const draftRbCount = document.getElementById('draftRbCount');
    const draftWrCount = document.getElementById('draftWrCount');
    const draftTeCount = document.getElementById('draftTeCount');
    const draftFlexCount = document.getElementById('draftFlexCount');
    const draftDstCount = document.getElementById('draftDstCount');
    const draftKCount = document.getElementById('draftKCount');
    const preset = this.value;
    if (preset === 'std' || preset === 'ppr') {
        draftQbCount.value = 1; draftSfCount && (draftSfCount.value = 0); draftRbCount.value = 2; draftWrCount.value = 2; draftTeCount.value = 1; draftFlexCount.value = 1; draftDstCount.value = 1; draftKCount.value = 1;
    } else if (preset === 'superflex_redraft') {
        draftQbCount.value = 1; draftSfCount && (draftSfCount.value = 1); draftRbCount.value = 2; draftWrCount.value = 2; draftTeCount.value = 1; draftFlexCount.value = 1; draftDstCount.value = 1; draftKCount.value = 1;
    } else if (preset === 'superflex_dynasty') {
        draftQbCount.value = 1; draftSfCount && (draftSfCount.value = 1); draftRbCount.value = 2; draftWrCount.value = 2; draftTeCount.value = 1; draftFlexCount.value = 2; draftDstCount.value = 1; draftKCount.value = 1;
    } else if (preset === 'half') {
        draftQbCount.value = 1; draftSfCount && (draftSfCount.value = 0); draftRbCount.value = 2; draftWrCount.value = 2; draftTeCount.value = 1; draftFlexCount.value = 2; draftDstCount.value = 1; draftKCount.value = 1;
    } else if (preset === '2qb') {
        draftQbCount.value = 2; draftSfCount && (draftSfCount.value = 0); draftRbCount.value = 2; draftWrCount.value = 3; draftTeCount.value = 1; draftFlexCount.value = 1; draftDstCount.value = 1; draftKCount.value = 1;
    } else if (preset === '3wr') {
        draftQbCount.value = 1; draftSfCount && (draftSfCount.value = 0); draftRbCount.value = 2; draftWrCount.value = 3; draftTeCount.value = 1; draftFlexCount.value = 1; draftDstCount.value = 1; draftKCount.value = 1;
    } else if (preset === '2te') {
        draftQbCount.value = 1; draftSfCount && (draftSfCount.value = 0); draftRbCount.value = 2; draftWrCount.value = 2; draftTeCount.value = 2; draftFlexCount.value = 1; draftDstCount.value = 1; draftKCount.value = 1;
    } else if (preset === 'deepflex') {
        draftQbCount.value = 1; draftSfCount && (draftSfCount.value = 0); draftRbCount.value = 2; draftWrCount.value = 2; draftTeCount.value = 1; draftFlexCount.value = 3; draftDstCount.value = 1; draftKCount.value = 1;
    }
    // Custom: do not change values
});

// --- Best Draft Builds Tool ---
document.getElementById('generateLineup').addEventListener('click', function () {
    const leagueSize = parseInt(document.getElementById('leagueSize').value, 10);
    const draftPick = parseInt(document.getElementById('draftPick').value, 10);
    const scoringType = getScoringType();
    const benchSize = parseInt(document.getElementById('benchSize').value, 10);

    // Get lineup counts from form
    const draftQbCount = document.getElementById('draftQbCount');
    const draftSfCount = document.getElementById('draftSfCount');
    const draftRbCount = document.getElementById('draftRbCount');
    const draftWrCount = document.getElementById('draftWrCount');
    const draftTeCount = document.getElementById('draftTeCount');
    const draftFlexCount = document.getElementById('draftFlexCount');
    const draftDstCount = document.getElementById('draftDstCount');
    const draftKCount = document.getElementById('draftKCount');
    const qb = parseInt(draftQbCount.value, 10);
    const sf = draftSfCount ? parseInt(draftSfCount.value, 10) : 0;
    const rb = parseInt(draftRbCount.value, 10);
    const wr = parseInt(draftWrCount.value, 10);
    const te = parseInt(draftTeCount.value, 10);
    const flex = parseInt(draftFlexCount.value, 10);
    const dst = parseInt(draftDstCount.value, 10);
    const k = parseInt(draftKCount.value, 10);

    const result = document.getElementById('build-result');

    // Sort players by ADP ascending (lowest = earliest pick)
    const draftBoard = [...allPlayers]
        .filter(p => p.AVG !== undefined)
        .sort((a, b) => a.AVG - b.AVG);

    // Build a draft plan: array of positions to fill (starters first, then bench)
    let draftPlan = [];
    for (let i = 0; i < qb; i++) draftPlan.push('QB');
    for (let i = 0; i < sf; i++) draftPlan.push('SF');
    for (let i = 0; i < rb; i++) draftPlan.push('RB');
    for (let i = 0; i < wr; i++) draftPlan.push('WR');
    for (let i = 0; i < te; i++) draftPlan.push('TE');
    for (let i = 0; i < flex; i++) draftPlan.push('FLEX');
    for (let i = 0; i < dst; i++) draftPlan.push('DST');
    for (let i = 0; i < k; i++) draftPlan.push('K');
    for (let i = 0; i < benchSize; i++) draftPlan.push('BENCH');

    function getBestAvailable(pos, taken) {
        if (pos === 'SF') {
            return draftBoard.find(p => !taken.has(p.Player) && /^(QB|RB|WR|TE)/.test(p.POS));
        }
        if (pos === 'FLEX') {
            return draftBoard.find(p => !taken.has(p.Player) && /^(RB|WR|TE)/.test(p.POS));
        }
        if (pos === 'DST') {
            return draftBoard.find(p => !taken.has(p.Player) && p.POS === 'DST');
        }
        if (pos === 'K') {
            return draftBoard.find(p => !taken.has(p.Player) && p.POS === 'K');
        }
        if (pos === 'BENCH') {
            return draftBoard.find(p => !taken.has(p.Player) && /^(RB|WR|TE|QB)/.test(p.POS));
        }
        return draftBoard.find(p => !taken.has(p.Player) && p.POS.startsWith(pos));
    }

    let picks = [];
    let taken = new Set();
    let totalRounds = draftPlan.length;
    for (let round = 1; round <= totalRounds; round++) {
        let pickNum = (round % 2 === 1)
            ? draftPick
            : leagueSize - draftPick + 1;
        let overallPick = (round - 1) * leagueSize + pickNum;
        let pos = draftPlan[round - 1];
        let player = getBestAvailable(pos, taken);
        if (!player) player = draftBoard.find(p => !taken.has(p.Player));
        if (!player) continue;
        taken.add(player.Player);
        picks.push({
            ...player,
            slot: pos,
            round,
            pickNum,
            overallPick
        });
    }

    result.innerHTML = `
        <div class="bg-glass rounded-xl p-4 mt-2">
            <h3 class="font-bold text-lg mb-2 text-yellow">Recommended Draft Build (${scoringType.toUpperCase()})</h3>
            <ul class="list-disc ml-6 text-left">
                <li>League Size: <span class="text-teal">${leagueSize}</span></li>
                <li>Draft Pick: <span class="text-teal">${draftPick}</span></li>
                <li>Scoring: <span class="text-teal">${scoringType.toUpperCase()}</span></li>
                <li>Bench Size: <span class="text-teal">${benchSize}</span></li>
            </ul>
            <h4 class="font-semibold mt-4 mb-2 text-orange">Your Draft Picks</h4>
            <table class="w-full text-sm mb-4">
                <thead>
                    <tr>
                        <th>Round</th>
                        <th>Pick</th>
                        <th>Player</th>
                        <th>Team</th>
                        <th>Pos</th>
                        <th>Slot</th>
                        <th>ADP</th>
                    </tr>
                </thead>
                <tbody>
                    ${picks.map(p => `
                        <tr>
                            <td>${p.round}</td>
                            <td>${p.pickNum}</td>
                            <td><span class="font-bold ${posColor(p.POS)}">${p.Player}</span></td>
                            <td>${p.Team || ''}</td>
                            <td>${p.POS}</td>
                            <td>${p.slot}</td>
                            <td>${p.AVG}</td>
                        </tr>
                    `).join('')}
                </tbody>
            </table>
            <div class="mt-4 text-green font-semibold">Strategy: Fill your starting lineup early, but don't ignore value picks and positional runs. Bench is for upside and depth.</div>
        </div>
    `;
});

// --- Scoring type change: reload players and update tools ---
document.getElementById('scoringType').addEventListener('change', function () {
    currentScoring = this.value;
    loadPlayersAndInitTools(currentScoring);
});

// Initial load
document.addEventListener('DOMContentLoaded', function () {
    // Set default scoring type if not set
    const scoringTypeSelect = document.getElementById('scoringType');
    if (scoringTypeSelect) scoringTypeSelect.value = currentScoring;
    loadPlayersAndInitTools(currentScoring);
});
    </script>
</body>
</html>
